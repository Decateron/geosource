<link rel="import" href="geosource-imports.html">

<dom-module id="geosource-settings-card">
	<style>
	    paper-material {
	    	background-color: #fff;
	    	margin: 20px;
	    }
	    .header {
	    	padding: 20px;
	    	@apply(--layout-horizontal);
	    }
	    .content {
	    	padding: 20px;
	    	padding-top: 0;
	    }
	    #icon {
	    	margin-right: 10px;
	    }
	    #expand {
	    	-webkit-transition: 0.2s ease-in-out;
	    	transition: 0.2s ease-in-out;
	    }
	    #title {
	    	margin: auto 0;
	    }
	</style>
	<template>
		<paper-material elevation="1">
			<div class="header" id="header">
				<iron-icon icon="{{icon}}" id="icon"></iron-icon>
				<div id="title" class="flex"></div>
				<iron-icon icon="icons:expand-more" id="expand"></iron-icon>
			</div>
			<iron-collapse id="collapse">
				<div class="content">
					<content></content>
				</div>
			</iron-collapse>
		</paper-material>
	</template>
</dom-module>


<script>
	Polymer({		
		is: "geosource-settings-card",

		properties: {
		    title: {
		    	type: String,
		    	value: null
		    },
		    icon: {
		    	type: String,
		    	value: null
		    },
		    opened: {
		    	type: Boolean,
		    	value: false
		    }
		},

		listeners: {
	      'header.tap': 'toggle'
	    },

		ready: function() {
			this.$.title.innerHTML = this.title;
		},

		toggle: function() {
			this.$.collapse.toggle();
			if (this.$.collapse.opened) {
				this.$.expand.style.transform = "rotate(-180deg)";
				this.$.expand.style.webkitTransform = "rotate(-180deg)";
			} else {
				this.$.expand.style.transform = "";
				this.$.expand.style.webkitTransform = "";
			}
		}
	});
</script>